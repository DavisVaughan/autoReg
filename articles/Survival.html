<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="autoReg">
<title>Survival Analysis • autoReg</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Survival Analysis">
<meta property="og:description" content="autoReg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">autoReg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Automatic_Regression_Modeling.html">Automatic Regression Modeling</a>
    <a class="dropdown-item" href="../articles/Bootstrap_Prediction.html">Bootstrap Simulation for model prediction</a>
    <a class="dropdown-item" href="../articles/Getting_started.html">Getting started</a>
    <a class="dropdown-item" href="../articles/Statiastical_test_in_gaze.html">Statistical tests in gaze</a>
    <a class="dropdown-item" href="../articles/Survival.html">Survival Analysis</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/cardiomoon/autoReg/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="Survival_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="Survival_files/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Survival Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/cardiomoon/autoReg/blob/HEAD/vignettes/Survival.Rmd" class="external-link"><code>vignettes/Survival.Rmd</code></a></small>
      <div class="d-none name"><code>Survival.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-survival-analysis">What is survival analysis ?<a class="anchor" aria-label="anchor" href="#what-is-survival-analysis"></a>
</h2>
<p>Survival analysis is the study of survival times and of the factors that influence them. Types of studies with survival outcomes include clinical trials, prospective and retrospective observational studies, and animal experiments. Examples of survival times include time from birth until death, time from entry into a clinical trial until death or disease progression, or time from birth to development of breast cancer(that is, age of onset). The survival endpoint can also refer a positive event. For example, one might be interested in the time from entry into a clinical trial until tumor response.</p>
<p>Package autoReg provides a number of functions to make these analyses easy to perform.</p>
<p>When writing package autoReg and this vignette, I was inspired from package finalfit by Ewen Harrison.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install autoReg package on github.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"cardiomoon/autoReg"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-package">Load package<a class="anchor" aria-label="anchor" href="#load-package"></a>
</h2>
<p>To load the package, use library() function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cardiomoon/autoReg" class="external-link">autoReg</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-melanoma">Data <code>melanoma</code><a class="anchor" aria-label="anchor" href="#data-melanoma"></a>
</h2>
<p>The data melanoma included in the boot package is a data of 205 patients with malignant melanoma. Each patient had their tumor removed by surgery at the Department of Plastic Surgery, University Hospital of Odense, Denmark during the period 1962 to 1977. The surgery consisted of complete removal of the tumor together with about 2.5cm of the surrounding skin. Among the measurements taken were the thickness of the tumor and whether it was ulcerated or not. These are thought to be important prognostic variables in that patients with a thick and/or ulcerated tumor have an increased chance of death from melanoma. Patients were followed until the end of 1977.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">data</span>(melanoma,<span class="dt">package=</span><span class="st">"boot"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">gaze</span>(melanoma)</span>
<span id="cb3-3"><a href="#cb3-3"></a>———————————————————————————————————————</span>
<span id="cb3-4"><a href="#cb3-4"></a>   name      levels         stats      </span>
<span id="cb3-5"><a href="#cb3-5"></a>———————————————————————————————————————</span>
<span id="cb3-6"><a href="#cb3-6"></a>time       Mean ± SD    <span class="fl">2152.8</span> ± <span class="fl">1122.1</span> </span>
<span id="cb3-7"><a href="#cb3-7"></a>status     Mean ± SD          <span class="fl">1.8</span> ± <span class="fl">0.6</span> </span>
<span id="cb3-8"><a href="#cb3-8"></a>sex        Mean ± SD          <span class="fl">0.4</span> ± <span class="fl">0.5</span> </span>
<span id="cb3-9"><a href="#cb3-9"></a>age        Mean ± SD        <span class="fl">52.5</span> ± <span class="fl">16.7</span> </span>
<span id="cb3-10"><a href="#cb3-10"></a>year       Mean ± SD       <span class="fl">1969.9</span> ± <span class="fl">2.6</span> </span>
<span id="cb3-11"><a href="#cb3-11"></a>thickness  Mean ± SD          <span class="fl">2.9</span> ± <span class="fl">3.0</span> </span>
<span id="cb3-12"><a href="#cb3-12"></a>ulcer      Mean ± SD          <span class="fl">0.4</span> ± <span class="fl">0.5</span> </span>
<span id="cb3-13"><a href="#cb3-13"></a>———————————————————————————————————————</span></code></pre></div>
<p>The patient status at the end of study was coded in status variable.</p>
<ul>
<li>1 indicates that they had died from melanoma</li>
<li>2 indicates that they were still alive</li>
<li>3 indicates that they had died from causes unrelated to their melanoma.</li>
</ul>
<p>There are three options for coding this.</p>
<ul>
<li>Overall survival: considering all-cause mortality, comparing 2 (alive) with 1 (died melanoma)/3 (died other) by logical expression status!=2 (e.g. status is not equal to 2)</li>
<li>Cause-specific survival: considering disease-specific mortality comparing 2 (alive)/3 (died other) with 1 (died melanoma) by status==1 (e.g. status is equal to 1 )</li>
<li>Competing risks: comparing 2 (alive) with 1 (died melanoma) accounting for 3 (died other); So we will make a new variable <code>statusCRR</code>
</li>
</ul>
<p>The <code>sex</code> variable in melanoma is coded as 0=female and 1=male. The <code>ulcer</code> variable is coded as 1=present and 2= absent. It is possible to use this variables during analysis, but we change these variables to factor with proper labels(just for aesthetic purpose).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">melanoma</span><span class="op">$</span><span class="va">status1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">melanoma</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">melanoma</span><span class="op">$</span><span class="va">status</span><span class="op">==</span><span class="fl">2</span>,<span class="fl">0</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="va">melanoma</span><span class="op">$</span><span class="va">statusCRR</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">melanoma</span><span class="op">$</span><span class="va">status1</span>,labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"survived"</span>,<span class="st">"melanoma"</span>,<span class="st">"other cause"</span><span class="op">)</span><span class="op">)</span>
<span class="va">melanoma</span><span class="op">$</span><span class="va">sex</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">melanoma</span><span class="op">$</span><span class="va">sex</span>,labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Female"</span>,<span class="st">"Male"</span><span class="op">)</span><span class="op">)</span>
<span class="va">melanoma</span><span class="op">$</span><span class="va">ulcer</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">melanoma</span><span class="op">$</span><span class="va">ulcer</span>,labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Absent"</span>,<span class="st">"Present"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">gaze</span>(melanoma,<span class="dt">show.n=</span><span class="ot">TRUE</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a>———————————————————————————————————————————————————</span>
<span id="cb5-3"><a href="#cb5-3"></a>   name       levels      N        stats        n  </span>
<span id="cb5-4"><a href="#cb5-4"></a>———————————————————————————————————————————————————</span>
<span id="cb5-5"><a href="#cb5-5"></a>time       Mean ± SD      <span class="dv">205</span>  <span class="fl">2152.8</span> ± <span class="fl">1122.1</span>  <span class="dv">205</span> </span>
<span id="cb5-6"><a href="#cb5-6"></a>status     Mean ± SD      <span class="dv">205</span>        <span class="fl">1.8</span> ± <span class="fl">0.6</span>  <span class="dv">205</span> </span>
<span id="cb5-7"><a href="#cb5-7"></a>sex        Female         <span class="dv">205</span>      <span class="dv">126</span> (<span class="fl">61.5</span>%)  <span class="dv">126</span> </span>
<span id="cb5-8"><a href="#cb5-8"></a>           Male                     <span class="dv">79</span> (<span class="fl">38.5</span>%)   <span class="dv">79</span> </span>
<span id="cb5-9"><a href="#cb5-9"></a>age        Mean ± SD      <span class="dv">205</span>      <span class="fl">52.5</span> ± <span class="fl">16.7</span>  <span class="dv">205</span> </span>
<span id="cb5-10"><a href="#cb5-10"></a>year       Mean ± SD      <span class="dv">205</span>     <span class="fl">1969.9</span> ± <span class="fl">2.6</span>  <span class="dv">205</span> </span>
<span id="cb5-11"><a href="#cb5-11"></a>thickness  Mean ± SD      <span class="dv">205</span>        <span class="fl">2.9</span> ± <span class="fl">3.0</span>  <span class="dv">205</span> </span>
<span id="cb5-12"><a href="#cb5-12"></a>ulcer      Absent         <span class="dv">205</span>      <span class="dv">115</span> (<span class="fl">56.1</span>%)  <span class="dv">115</span> </span>
<span id="cb5-13"><a href="#cb5-13"></a>           Present                  <span class="dv">90</span> (<span class="fl">43.9</span>%)   <span class="dv">90</span> </span>
<span id="cb5-14"><a href="#cb5-14"></a>status1    Mean ± SD      <span class="dv">205</span>        <span class="fl">0.4</span> ± <span class="fl">0.6</span>  <span class="dv">205</span> </span>
<span id="cb5-15"><a href="#cb5-15"></a>statusCRR  survived       <span class="dv">205</span>      <span class="dv">134</span> (<span class="fl">65.4</span>%)  <span class="dv">134</span> </span>
<span id="cb5-16"><a href="#cb5-16"></a>           melanoma                 <span class="dv">57</span> (<span class="fl">27.8</span>%)   <span class="dv">57</span> </span>
<span id="cb5-17"><a href="#cb5-17"></a>           other cause               <span class="dv">14</span> (<span class="fl">6.8</span>%)   <span class="dv">14</span> </span>
<span id="cb5-18"><a href="#cb5-18"></a>———————————————————————————————————————————————————</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="survival-analysis-for-whole-group">Survival analysis for whole group<a class="anchor" aria-label="anchor" href="#survival-analysis-for-whole-group"></a>
</h2>
<p>You can estimate survival in whole group with survfit() function in the survival package.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>fit=<span class="kw">survfit</span>(<span class="kw">Surv</span>(time<span class="op">/</span><span class="fl">365.25</span>,status<span class="op">!=</span><span class="dv">2</span>)<span class="op">~</span><span class="dv">1</span>,<span class="dt">data=</span>melanoma)</span>
<span id="cb6-2"><a href="#cb6-2"></a>fit</span>
<span id="cb6-3"><a href="#cb6-3"></a>Call<span class="op">:</span><span class="st"> </span><span class="kw">survfit</span>(<span class="dt">formula =</span> <span class="kw">Surv</span>(time<span class="op">/</span><span class="fl">365.25</span>, status <span class="op">!=</span><span class="st"> </span><span class="dv">2</span>) <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> melanoma)</span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a>       n events median <span class="fl">0.95</span>LCL <span class="fl">0.95</span>UCL</span>
<span id="cb6-6"><a href="#cb6-6"></a>[<span class="dv">1</span>,] <span class="dv">205</span>     <span class="dv">71</span>     <span class="ot">NA</span>    <span class="fl">9.14</span>      <span class="ot">NA</span></span></code></pre></div>
<div class="section level3">
<h3 id="life-table">Life table<a class="anchor" aria-label="anchor" href="#life-table"></a>
</h3>
<p>A life table is the tabular form of a KM plot. It shows survival as a proportion, together with confidence limits.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">summary</span>(fit,<span class="dt">times=</span><span class="dv">0</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>Call<span class="op">:</span><span class="st"> </span><span class="kw">survfit</span>(<span class="dt">formula =</span> <span class="kw">Surv</span>(time<span class="op">/</span><span class="fl">365.25</span>, status <span class="op">!=</span><span class="st"> </span><span class="dv">2</span>) <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">data =</span> melanoma)</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a> time n.risk n.event survival std.err lower <span class="dv">95</span><span class="op">% CI upper 95%</span><span class="st"> </span>CI</span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="dv">0</span>    <span class="dv">205</span>       <span class="dv">0</span>    <span class="fl">1.000</span>  <span class="fl">0.0000</span>        <span class="fl">1.000</span>        <span class="fl">1.000</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="dv">1</span>    <span class="dv">193</span>      <span class="dv">11</span>    <span class="fl">0.946</span>  <span class="fl">0.0158</span>        <span class="fl">0.916</span>        <span class="fl">0.978</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="dv">2</span>    <span class="dv">183</span>      <span class="dv">10</span>    <span class="fl">0.897</span>  <span class="fl">0.0213</span>        <span class="fl">0.856</span>        <span class="fl">0.940</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="dv">3</span>    <span class="dv">167</span>      <span class="dv">16</span>    <span class="fl">0.819</span>  <span class="fl">0.0270</span>        <span class="fl">0.767</span>        <span class="fl">0.873</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>    <span class="dv">4</span>    <span class="dv">160</span>       <span class="dv">7</span>    <span class="fl">0.784</span>  <span class="fl">0.0288</span>        <span class="fl">0.730</span>        <span class="fl">0.843</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>    <span class="dv">5</span>    <span class="dv">122</span>      <span class="dv">10</span>    <span class="fl">0.732</span>  <span class="fl">0.0313</span>        <span class="fl">0.673</span>        <span class="fl">0.796</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="kaplan-meier-plot">Kaplan-Meier Plot<a class="anchor" aria-label="anchor" href="#kaplan-meier-plot"></a>
</h3>
<p>You can plot survival curves using the ggsurvplot() in the survminer package. There are numerous options available on the help page.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/survminer/index.html" class="external-link">survminer</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/survminer/man/ggsurvplot.html" class="external-link">ggsurvplot</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></code></pre></div>
<p><img src="Survival_files/figure-html/unnamed-chunk-9-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="cox-proportional-hazard-model">Cox-proportional hazard model<a class="anchor" aria-label="anchor" href="#cox-proportional-hazard-model"></a>
</h3>
<p>The coxph() function in the survival package fits a Cox proportional hazards regression model. Time dependent variables, time dependent strata, multiple events per subject, and other extensions are incorporated using the counting process formulation of Andersen and Gill.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fit</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">status</span><span class="op">!=</span><span class="fl">2</span><span class="op">)</span><span class="op">~</span><span class="va">age</span><span class="op">+</span><span class="va">sex</span><span class="op">+</span><span class="va">thickness</span><span class="op">+</span><span class="va">ulcer</span>,data<span class="op">=</span><span class="va">melanoma</span><span class="op">)</span></code></pre></div>
<p>You can summarize the results of coxph() with autoReg() function. With a list of univariable model, you can select potentially significant explanatory variable(p value below 0.2 for example). The autoReg() function automatically select from univariable model with a given p value threshold(default value is 0.2). If you want to use all the explanatory variables in the multivariable model, set the threshold 1.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">=</span><span class="fu"><a href="../reference/autoReg.html">autoReg</a></span><span class="op">(</span><span class="va">fit</span>,uni<span class="op">=</span><span class="cn">TRUE</span>,threshold<span class="op">=</span><span class="fl">1</span><span class="op">)</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/myft.html">myft</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="070f0eb5-dffd-4c52-a384-fa0d2fe8eb63"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-3b808bf0{}.cl-3b765d6a{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3b765d74{font-family:'DejaVu Sans';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3b765d7e{font-family:'DejaVu Sans';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-3b765d7f{font-family:'DejaVu Sans';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-3b767b60{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3b767b6a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3b767b6b{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3b767b74{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3b76de52{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76de5c{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76de66{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76de67{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dea2{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dea3{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76deac{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dead{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76deb6{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76deb7{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76deb8{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dec0{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76deca{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76decb{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76ded4{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dede{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dedf{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dee8{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76dee9{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3b76def2{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-3b808bf0">
<thead><tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-3b76dedf"><p class="cl-3b767b60"><span class="cl-3b765d6a">Dependent: Surv(time, status != 2)</span></p></td>
<td class="cl-3b76dee8"><p class="cl-3b767b60"><span class="cl-3b765d6a">all</span></p></td>
<td class="cl-3b76def2"><p class="cl-3b767b60"><span class="cl-3b765d6a">HR (univariable)</span></p></td>
<td class="cl-3b76def2"><p class="cl-3b767b60"><span class="cl-3b765d6a">HR (multivariable)</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-3b76de52"><p class="cl-3b767b6a"><span class="cl-3b765d74">age</span><span class="cl-3b765d7e"></span></p></td>
<td class="cl-3b76de67"><p class="cl-3b767b6b"><span class="cl-3b765d74">Mean ± SD</span><span class="cl-3b765d7e"></span></p></td>
<td class="cl-3b76de5c"><p class="cl-3b767b6b"><span class="cl-3b765d74">52.5 ± 16.7</span></p></td>
<td class="cl-3b76de66"><p class="cl-3b767b6b"><span class="cl-3b765d74">1.03 (1.01-1.05, p&lt;.001)</span></p></td>
<td class="cl-3b76de66"><p class="cl-3b767b6b"><span class="cl-3b765d74">1.02 (1.01-1.04, p=.005)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3b76dead"><p class="cl-3b767b6a"><span class="cl-3b765d74">sex</span></p></td>
<td class="cl-3b76dea2"><p class="cl-3b767b6b"><span class="cl-3b765d74">Female</span></p></td>
<td class="cl-3b76deac"><p class="cl-3b767b6b"><span class="cl-3b765d74">126 (61.5%)</span></p></td>
<td class="cl-3b76dea3"><p class="cl-3b767b6b"><span class="cl-3b765d74"></span></p></td>
<td class="cl-3b76dea3"><p class="cl-3b767b6b"><span class="cl-3b765d74"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3b76de52"><p class="cl-3b767b6a"><span class="cl-3b765d74"></span></p></td>
<td class="cl-3b76de67"><p class="cl-3b767b6b"><span class="cl-3b765d74">Male</span></p></td>
<td class="cl-3b76de5c"><p class="cl-3b767b6b"><span class="cl-3b765d74">79 (38.5%)</span></p></td>
<td class="cl-3b76de66"><p class="cl-3b767b6b"><span class="cl-3b765d74">1.93 (1.21-3.07, p=.006)</span></p></td>
<td class="cl-3b76de66"><p class="cl-3b767b6b"><span class="cl-3b765d74">1.51 (0.94-2.42, p=.085)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3b76de52"><p class="cl-3b767b6a"><span class="cl-3b765d74">thickness</span></p></td>
<td class="cl-3b76de67"><p class="cl-3b767b6b"><span class="cl-3b765d74">Mean ± SD</span></p></td>
<td class="cl-3b76de5c"><p class="cl-3b767b6b"><span class="cl-3b765d74">2.9 ± 3.0</span></p></td>
<td class="cl-3b76de66"><p class="cl-3b767b6b"><span class="cl-3b765d74">1.16 (1.10-1.23, p&lt;.001)</span></p></td>
<td class="cl-3b76de66"><p class="cl-3b767b6b"><span class="cl-3b765d74">1.10 (1.03-1.18, p=.004)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3b76dead"><p class="cl-3b767b6a"><span class="cl-3b765d74">ulcer</span></p></td>
<td class="cl-3b76dea2"><p class="cl-3b767b6b"><span class="cl-3b765d74">Absent</span></p></td>
<td class="cl-3b76deac"><p class="cl-3b767b6b"><span class="cl-3b765d74">115 (56.1%)</span></p></td>
<td class="cl-3b76dea3"><p class="cl-3b767b6b"><span class="cl-3b765d74"></span></p></td>
<td class="cl-3b76dea3"><p class="cl-3b767b6b"><span class="cl-3b765d74"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3b76deb6"><p class="cl-3b767b6a"><span class="cl-3b765d74"></span></p></td>
<td class="cl-3b76dec0"><p class="cl-3b767b6b"><span class="cl-3b765d74">Present</span></p></td>
<td class="cl-3b76deb8"><p class="cl-3b767b6b"><span class="cl-3b765d74">90 (43.9%)</span></p></td>
<td class="cl-3b76deb7"><p class="cl-3b767b6b"><span class="cl-3b765d74">3.52 (2.14-5.80, p&lt;.001)</span></p></td>
<td class="cl-3b76deb7"><p class="cl-3b767b6b"><span class="cl-3b765d74">2.59 (1.53-4.38, p&lt;.001)</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="5" class="cl-3b76decb"><p class="cl-3b767b74"><span class="cl-3b765d7f"></span><span class="cl-3b765d6a">n=205, events=71, Likelihood ratio test=47.89 on 4 df(p&lt;.001)</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="906be8d4-e918-4ab6-a91f-8e1947b95765"></div>
<script>
var dest = document.getElementById("906be8d4-e918-4ab6-a91f-8e1947b95765");
var template = document.getElementById("070f0eb5-dffd-4c52-a384-fa0d2fe8eb63");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>If you want, you can decorate your table as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">$</span><span class="va">name</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Age(years)"</span>,<span class="st">"Sex"</span>,<span class="st">""</span>,<span class="st">"Tumor thickness (mm)"</span>,<span class="st">"Ulceration"</span>,<span class="st">""</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">=</span><span class="st">"Overall Survival"</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/myft.html">myft</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="6efc9d40-b6a2-4f45-b478-493f0712999f"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-3bb8f292{}.cl-3baf62fe{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3baf6312{font-family:'DejaVu Sans';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3baf631c{font-family:'DejaVu Sans';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-3baf631d{font-family:'DejaVu Sans';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-3baf783e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3baf7848{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3baf7852{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3baf7853{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3bafcf46{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf50{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf5a{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf5b{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf5c{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf64{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf6e{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf6f{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf70{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf78{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf79{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf82{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf83{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf8c{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf8d{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf96{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcf97{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcfa0{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcfa1{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3bafcfaa{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-3bb8f292">
<thead><tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-3bafcf97"><p class="cl-3baf783e"><span class="cl-3baf62fe">Dependent: Surv(time, status != 2)</span></p></td>
<td class="cl-3bafcfa0"><p class="cl-3baf783e"><span class="cl-3baf62fe">all</span></p></td>
<td class="cl-3bafcfaa"><p class="cl-3baf783e"><span class="cl-3baf62fe">HR (univariable)</span></p></td>
<td class="cl-3bafcfaa"><p class="cl-3baf783e"><span class="cl-3baf62fe">HR (multivariable)</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-3bafcf46"><p class="cl-3baf7848"><span class="cl-3baf6312">Age(years)</span><span class="cl-3baf631c"></span></p></td>
<td class="cl-3bafcf5b"><p class="cl-3baf7852"><span class="cl-3baf6312">Mean ± SD</span><span class="cl-3baf631c"></span></p></td>
<td class="cl-3bafcf50"><p class="cl-3baf7852"><span class="cl-3baf6312">52.5 ± 16.7</span></p></td>
<td class="cl-3bafcf5a"><p class="cl-3baf7852"><span class="cl-3baf6312">1.03 (1.01-1.05, p&lt;.001)</span></p></td>
<td class="cl-3bafcf5a"><p class="cl-3baf7852"><span class="cl-3baf6312">1.02 (1.01-1.04, p=.005)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3bafcf6f"><p class="cl-3baf7848"><span class="cl-3baf6312">Sex</span></p></td>
<td class="cl-3bafcf5c"><p class="cl-3baf7852"><span class="cl-3baf6312">Female</span></p></td>
<td class="cl-3bafcf6e"><p class="cl-3baf7852"><span class="cl-3baf6312">126 (61.5%)</span></p></td>
<td class="cl-3bafcf64"><p class="cl-3baf7852"><span class="cl-3baf6312"></span></p></td>
<td class="cl-3bafcf64"><p class="cl-3baf7852"><span class="cl-3baf6312"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3bafcf46"><p class="cl-3baf7848"><span class="cl-3baf6312"></span></p></td>
<td class="cl-3bafcf5b"><p class="cl-3baf7852"><span class="cl-3baf6312">Male</span></p></td>
<td class="cl-3bafcf50"><p class="cl-3baf7852"><span class="cl-3baf6312">79 (38.5%)</span></p></td>
<td class="cl-3bafcf5a"><p class="cl-3baf7852"><span class="cl-3baf6312">1.93 (1.21-3.07, p=.006)</span></p></td>
<td class="cl-3bafcf5a"><p class="cl-3baf7852"><span class="cl-3baf6312">1.51 (0.94-2.42, p=.085)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3bafcf46"><p class="cl-3baf7848"><span class="cl-3baf6312">Tumor thickness (mm)</span></p></td>
<td class="cl-3bafcf5b"><p class="cl-3baf7852"><span class="cl-3baf6312">Mean ± SD</span></p></td>
<td class="cl-3bafcf50"><p class="cl-3baf7852"><span class="cl-3baf6312">2.9 ± 3.0</span></p></td>
<td class="cl-3bafcf5a"><p class="cl-3baf7852"><span class="cl-3baf6312">1.16 (1.10-1.23, p&lt;.001)</span></p></td>
<td class="cl-3bafcf5a"><p class="cl-3baf7852"><span class="cl-3baf6312">1.10 (1.03-1.18, p=.004)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3bafcf6f"><p class="cl-3baf7848"><span class="cl-3baf6312">Ulceration</span></p></td>
<td class="cl-3bafcf5c"><p class="cl-3baf7852"><span class="cl-3baf6312">Absent</span></p></td>
<td class="cl-3bafcf6e"><p class="cl-3baf7852"><span class="cl-3baf6312">115 (56.1%)</span></p></td>
<td class="cl-3bafcf64"><p class="cl-3baf7852"><span class="cl-3baf6312"></span></p></td>
<td class="cl-3bafcf64"><p class="cl-3baf7852"><span class="cl-3baf6312"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3bafcf70"><p class="cl-3baf7848"><span class="cl-3baf6312"></span></p></td>
<td class="cl-3bafcf82"><p class="cl-3baf7852"><span class="cl-3baf6312">Present</span></p></td>
<td class="cl-3bafcf79"><p class="cl-3baf7852"><span class="cl-3baf6312">90 (43.9%)</span></p></td>
<td class="cl-3bafcf78"><p class="cl-3baf7852"><span class="cl-3baf6312">3.52 (2.14-5.80, p&lt;.001)</span></p></td>
<td class="cl-3bafcf78"><p class="cl-3baf7852"><span class="cl-3baf6312">2.59 (1.53-4.38, p&lt;.001)</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="5" class="cl-3bafcf8c"><p class="cl-3baf7853"><span class="cl-3baf631d"></span><span class="cl-3baf62fe">n=205, events=71, Likelihood ratio test=47.89 on 4 df(p&lt;.001)</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="c205f4d7-b0d2-4993-9c58-051a1f118523"></div>
<script>
var dest = document.getElementById("c205f4d7-b0d2-4993-9c58-051a1f118523");
var template = document.getElementById("6efc9d40-b6a2-4f45-b478-493f0712999f");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><div class="section level4">
<h4 id="hazard-ratio-plot-modelplot">Hazard ratio plot : modelPlot()<a class="anchor" aria-label="anchor" href="#hazard-ratio-plot-modelplot"></a>
</h4>
<p>You can draw hazard ratio plot</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/modelPlot.html">modelPlot</a></span><span class="op">(</span><span class="va">fit</span>,uni<span class="op">=</span><span class="cn">TRUE</span>, threshold<span class="op">=</span><span class="fl">1</span>,show.ref<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="Survival_files/figure-html/unnamed-chunk-13-1.png" width="768"></p>
<p>If you want to add another model summary to the table, the addFitSummary() can do this.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">final</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">status</span><span class="op">!=</span><span class="fl">2</span><span class="op">)</span><span class="op">~</span><span class="va">age</span><span class="op">+</span><span class="va">thickness</span><span class="op">+</span><span class="va">ulcer</span>,data<span class="op">=</span><span class="va">melanoma</span><span class="op">)</span>
<span class="va">x</span><span class="op">=</span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/addFitSummary.html">addFitSummary</a></span><span class="op">(</span><span class="va">final</span>,statsname<span class="op">=</span><span class="st">"HR (final)"</span><span class="op">)</span> 
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/myft.html">myft</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="57b26c59-febf-40c2-9b0b-d9cd7acede84"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-3c937656{}.cl-3c8a72cc{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3c8a72d6{font-family:'DejaVu Sans';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3c8a72e0{font-family:'DejaVu Sans';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-3c8a72ea{font-family:'DejaVu Sans';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-3c8a8b2c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3c8a8b36{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3c8a8b37{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3c8a8b40{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3c8aee96{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeeaa{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeeab{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeeb4{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeebe{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeebf{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeec8{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeed2{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeed3{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeedc{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeedd{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeee6{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeee7{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeef0{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aeefa{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aef04{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aef05{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aef0e{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aef0f{width:215.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3c8aef18{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-3c937656">
<thead><tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-3c8aef0f"><p class="cl-3c8a8b2c"><span class="cl-3c8a72cc">Dependent: Surv(time, status != 2)</span></p></td>
<td class="cl-3c8aef18"><p class="cl-3c8a8b2c"><span class="cl-3c8a72cc">all</span></p></td>
<td class="cl-3c8aef0e"><p class="cl-3c8a8b2c"><span class="cl-3c8a72cc">HR (univariable)</span></p></td>
<td class="cl-3c8aef0e"><p class="cl-3c8a8b2c"><span class="cl-3c8a72cc">HR (multivariable)</span></p></td>
<td class="cl-3c8aef0e"><p class="cl-3c8a8b2c"><span class="cl-3c8a72cc">HR (final)</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-3c8aeeab"><p class="cl-3c8a8b36"><span class="cl-3c8a72d6">Age(years)</span><span class="cl-3c8a72e0"></span></p></td>
<td class="cl-3c8aeeb4"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">Mean ± SD</span><span class="cl-3c8a72e0"></span></p></td>
<td class="cl-3c8aee96"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">52.5 ± 16.7</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.03 (1.01-1.05, p&lt;.001)</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.02 (1.01-1.04, p=.005)</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.02 (1.01-1.04, p=.003)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3c8aeed2"><p class="cl-3c8a8b36"><span class="cl-3c8a72d6">Sex</span></p></td>
<td class="cl-3c8aeec8"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">Female</span></p></td>
<td class="cl-3c8aeebe"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">126 (61.5%)</span></p></td>
<td class="cl-3c8aeebf"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6"></span></p></td>
<td class="cl-3c8aeebf"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6"></span></p></td>
<td class="cl-3c8aeebf"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3c8aeeab"><p class="cl-3c8a8b36"><span class="cl-3c8a72d6"></span></p></td>
<td class="cl-3c8aeeb4"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">Male</span></p></td>
<td class="cl-3c8aee96"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">79 (38.5%)</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.93 (1.21-3.07, p=.006)</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.51 (0.94-2.42, p=.085)</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3c8aeeab"><p class="cl-3c8a8b36"><span class="cl-3c8a72d6">Tumor thickness (mm)</span></p></td>
<td class="cl-3c8aeeb4"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">Mean ± SD</span></p></td>
<td class="cl-3c8aee96"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">2.9 ± 3.0</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.16 (1.10-1.23, p&lt;.001)</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.10 (1.03-1.18, p=.004)</span></p></td>
<td class="cl-3c8aeeaa"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">1.10 (1.03-1.18, p=.003)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3c8aeed2"><p class="cl-3c8a8b36"><span class="cl-3c8a72d6">Ulceration</span></p></td>
<td class="cl-3c8aeec8"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">Absent</span></p></td>
<td class="cl-3c8aeebe"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">115 (56.1%)</span></p></td>
<td class="cl-3c8aeebf"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6"></span></p></td>
<td class="cl-3c8aeebf"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6"></span></p></td>
<td class="cl-3c8aeebf"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3c8aeedd"><p class="cl-3c8a8b36"><span class="cl-3c8a72d6"></span></p></td>
<td class="cl-3c8aeee6"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">Present</span></p></td>
<td class="cl-3c8aeedc"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">90 (43.9%)</span></p></td>
<td class="cl-3c8aeed3"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">3.52 (2.14-5.80, p&lt;.001)</span></p></td>
<td class="cl-3c8aeed3"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">2.59 (1.53-4.38, p&lt;.001)</span></p></td>
<td class="cl-3c8aeed3"><p class="cl-3c8a8b37"><span class="cl-3c8a72d6">2.72 (1.61-4.57, p&lt;.001)</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-3c8aeee7"><p class="cl-3c8a8b40"><span class="cl-3c8a72ea"></span><span class="cl-3c8a72cc">n=205, events=71, Likelihood ratio test=47.89 on 4 df(p&lt;.001)</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="22c0bf71-6591-4cdb-a3b5-a8d4db576295"></div>
<script>
var dest = document.getElementById("22c0bf71-6591-4cdb-a3b5-a8d4db576295");
var template = document.getElementById("57b26c59-febf-40c2-9b0b-d9cd7acede84");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
<div class="section level4">
<h4 id="testing-for-proportional-hazards">Testing for proportional hazards<a class="anchor" aria-label="anchor" href="#testing-for-proportional-hazards"></a>
</h4>
<p>An assumption of Cox proportional hazard regression is that the hazard (think risk) associated with a particular variable does not change over time. For example, is the magnitude of the increase in risk of death associated with tumor ulceration the same in the early post-operative period as it is in later years?</p>
<p>The cox.zph() function from the survival package allows us to test this assumption for each variable. The plot of scaled Schoenfeld residuals should be a horizontal line. The included hypothesis test identifies whether the gradient differs from zero for each variable. No variable significantly differs from zero at the 5% significance level.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>result=<span class="kw">cox.zph</span>(fit)</span>
<span id="cb14-2"><a href="#cb14-2"></a>result</span>
<span id="cb14-3"><a href="#cb14-3"></a>          chisq df     p</span>
<span id="cb14-4"><a href="#cb14-4"></a>age       <span class="fl">1.610</span>  <span class="dv">1</span> <span class="fl">0.205</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>sex       <span class="fl">0.478</span>  <span class="dv">1</span> <span class="fl">0.489</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>thickness <span class="fl">3.124</span>  <span class="dv">1</span> <span class="fl">0.077</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>ulcer     <span class="fl">4.633</span>  <span class="dv">1</span> <span class="fl">0.031</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>GLOBAL    <span class="fl">7.706</span>  <span class="dv">4</span> <span class="fl">0.103</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">survminer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/survminer/man/ggcoxzph.html" class="external-link">ggcoxzph</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></code></pre></div>
<p><img src="Survival_files/figure-html/unnamed-chunk-16-1.png" width="768"></p>
</div>
</div>
<div class="section level3">
<h3 id="disease-specific-survival">Disease-specific survival<a class="anchor" aria-label="anchor" href="#disease-specific-survival"></a>
</h3>
<p>You can analyze disease specific survival and make a publication-ready table.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fit</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">status</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span><span class="op">~</span><span class="va">age</span><span class="op">+</span><span class="va">sex</span><span class="op">+</span><span class="va">thickness</span><span class="op">+</span><span class="va">ulcer</span>,data<span class="op">=</span><span class="va">melanoma</span><span class="op">)</span>
<span class="fu"><a href="../reference/autoReg.html">autoReg</a></span><span class="op">(</span><span class="va">fit</span>,uni<span class="op">=</span><span class="cn">TRUE</span>,threshold<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/myft.html">myft</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="e5257cbb-0b81-4499-b593-70508d084434"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-3d9eaf84{}.cl-3d957a4a{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3d957a54{font-family:'DejaVu Sans';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3d957a5e{font-family:'DejaVu Sans';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-3d957a5f{font-family:'DejaVu Sans';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-3d9597aa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3d9597b4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3d9597b5{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3d9597b6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3d960fc8{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d960fdc{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d960fe6{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d960fe7{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d960ff0{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d960ffa{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d960ffb{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961004{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961005{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d96100e{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961018{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961019{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d96101a{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961022{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961023{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961024{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d96102c{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961036{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961037{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3d961040{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-3d9eaf84">
<thead><tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-3d96102c"><p class="cl-3d9597aa"><span class="cl-3d957a4a">Dependent: Surv(time, status == 1)</span></p></td>
<td class="cl-3d961036"><p class="cl-3d9597aa"><span class="cl-3d957a4a">all</span></p></td>
<td class="cl-3d961040"><p class="cl-3d9597aa"><span class="cl-3d957a4a">HR (univariable)</span></p></td>
<td class="cl-3d961040"><p class="cl-3d9597aa"><span class="cl-3d957a4a">HR (multivariable)</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-3d960fc8"><p class="cl-3d9597b4"><span class="cl-3d957a54">age</span><span class="cl-3d957a5e"></span></p></td>
<td class="cl-3d960fe7"><p class="cl-3d9597b5"><span class="cl-3d957a54">Mean ± SD</span><span class="cl-3d957a5e"></span></p></td>
<td class="cl-3d960fdc"><p class="cl-3d9597b5"><span class="cl-3d957a54">52.5 ± 16.7</span></p></td>
<td class="cl-3d960fe6"><p class="cl-3d9597b5"><span class="cl-3d957a54">1.02 (1.00-1.04, p=.028)</span></p></td>
<td class="cl-3d960fe6"><p class="cl-3d9597b5"><span class="cl-3d957a54">1.01 (1.00-1.03, p=.141)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3d961004"><p class="cl-3d9597b4"><span class="cl-3d957a54">sex</span></p></td>
<td class="cl-3d960ff0"><p class="cl-3d9597b5"><span class="cl-3d957a54">Female</span></p></td>
<td class="cl-3d960ffb"><p class="cl-3d9597b5"><span class="cl-3d957a54">126 (61.5%)</span></p></td>
<td class="cl-3d960ffa"><p class="cl-3d9597b5"><span class="cl-3d957a54"></span></p></td>
<td class="cl-3d960ffa"><p class="cl-3d9597b5"><span class="cl-3d957a54"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3d960fc8"><p class="cl-3d9597b4"><span class="cl-3d957a54"></span></p></td>
<td class="cl-3d960fe7"><p class="cl-3d9597b5"><span class="cl-3d957a54">Male</span></p></td>
<td class="cl-3d960fdc"><p class="cl-3d9597b5"><span class="cl-3d957a54">79 (38.5%)</span></p></td>
<td class="cl-3d960fe6"><p class="cl-3d9597b5"><span class="cl-3d957a54">1.94 (1.15-3.26, p=.013)</span></p></td>
<td class="cl-3d960fe6"><p class="cl-3d9597b5"><span class="cl-3d957a54">1.54 (0.91-2.60, p=.106)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3d960fc8"><p class="cl-3d9597b4"><span class="cl-3d957a54">thickness</span></p></td>
<td class="cl-3d960fe7"><p class="cl-3d9597b5"><span class="cl-3d957a54">Mean ± SD</span></p></td>
<td class="cl-3d960fdc"><p class="cl-3d9597b5"><span class="cl-3d957a54">2.9 ± 3.0</span></p></td>
<td class="cl-3d960fe6"><p class="cl-3d9597b5"><span class="cl-3d957a54">1.17 (1.10-1.25, p&lt;.001)</span></p></td>
<td class="cl-3d960fe6"><p class="cl-3d9597b5"><span class="cl-3d957a54">1.12 (1.04-1.20, p=.004)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3d961004"><p class="cl-3d9597b4"><span class="cl-3d957a54">ulcer</span></p></td>
<td class="cl-3d960ff0"><p class="cl-3d9597b5"><span class="cl-3d957a54">Absent</span></p></td>
<td class="cl-3d960ffb"><p class="cl-3d9597b5"><span class="cl-3d957a54">115 (56.1%)</span></p></td>
<td class="cl-3d960ffa"><p class="cl-3d9597b5"><span class="cl-3d957a54"></span></p></td>
<td class="cl-3d960ffa"><p class="cl-3d9597b5"><span class="cl-3d957a54"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3d961005"><p class="cl-3d9597b4"><span class="cl-3d957a54"></span></p></td>
<td class="cl-3d961019"><p class="cl-3d9597b5"><span class="cl-3d957a54">Present</span></p></td>
<td class="cl-3d961018"><p class="cl-3d9597b5"><span class="cl-3d957a54">90 (43.9%)</span></p></td>
<td class="cl-3d96100e"><p class="cl-3d9597b5"><span class="cl-3d957a54">4.36 (2.44-7.77, p&lt;.001)</span></p></td>
<td class="cl-3d96100e"><p class="cl-3d9597b5"><span class="cl-3d957a54">3.20 (1.75-5.88, p&lt;.001)</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="5" class="cl-3d961022"><p class="cl-3d9597b6"><span class="cl-3d957a5f"></span><span class="cl-3d957a4a">n=205, events=57, Likelihood ratio test=41.62 on 4 df(p&lt;.001)</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="20011b12-ffd5-478e-848d-891ef7036e91"></div>
<script>
var dest = document.getElementById("20011b12-ffd5-478e-848d-891ef7036e91");
var template = document.getElementById("e5257cbb-0b81-4499-b593-70508d084434");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>
</div>
<div class="section level3">
<h3 id="competing-risk-regression">Competing risk regression<a class="anchor" aria-label="anchor" href="#competing-risk-regression"></a>
</h3>
<p>Competing-risks regression is an alternative to cox proportional regression. It can be useful if the outcome of interest may not be able to occur simply because something else (like death) has happened first. For instance, in our example it is obviously not possible for a patient to die from melanoma if they have died from another disease first. By simply looking at cause-specific mortality (deaths from melanoma) and considering other deaths as censored, bias may result in estimates of the influence of predictors.</p>
<p>The approach by Fine and Gray is one option for dealing with this. It is implemented in the package <code>cmprsk</code>. The crrFormula() function in autoReg package can make competing risk regression model and addFitSummary() function can add the model summary.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fit1</span><span class="op">=</span><span class="fu"><a href="../reference/crrFormula.html">crrFormula</a></span><span class="op">(</span><span class="va">time</span><span class="op">+</span><span class="va">status1</span><span class="op">~</span><span class="va">age</span><span class="op">+</span><span class="va">sex</span><span class="op">+</span><span class="va">thickness</span><span class="op">+</span><span class="va">ulcer</span>,data<span class="op">=</span><span class="va">melanoma</span><span class="op">)</span>
<span class="fu"><a href="../reference/autoReg.html">autoReg</a></span><span class="op">(</span><span class="va">fit</span>,uni<span class="op">=</span><span class="cn">TRUE</span>,threshold<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/addFitSummary.html">addFitSummary</a></span><span class="op">(</span><span class="va">fit1</span>,<span class="st">"HR (competing risks multivariable)"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/myft.html">myft</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="93a530c2-b37d-49fe-a4cc-a9a36a1ce6a8"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-3df05064{}.cl-3de5f600{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3de5f614{font-family:'DejaVu Sans';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3de5f61e{font-family:'DejaVu Sans';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-3de5f61f{font-family:'DejaVu Sans';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-3de61040{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3de6104a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3de61054{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3de6105e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3de67620{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6762a{width:212pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67634{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6763e{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6763f{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67648{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67649{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6764a{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67652{width:212pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6765c{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6765d{width:212pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6765e{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67666{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67667{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67670{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67671{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6767a{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6767b{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67684{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67685{width:212pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6768e{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6768f{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67698{width:212pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de67699{width:220.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3de6769a{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-3df05064">
<thead><tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-3de67699"><p class="cl-3de61040"><span class="cl-3de5f600">Dependent: Surv(time, status == 1)</span></p></td>
<td class="cl-3de6769a"><p class="cl-3de61040"><span class="cl-3de5f600">all</span></p></td>
<td class="cl-3de6768f"><p class="cl-3de61040"><span class="cl-3de5f600">HR (univariable)</span></p></td>
<td class="cl-3de6768f"><p class="cl-3de61040"><span class="cl-3de5f600">HR (multivariable)</span></p></td>
<td class="cl-3de67698"><p class="cl-3de61040"><span class="cl-3de5f600">HR (competing risks multivariable)</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-3de67634"><p class="cl-3de6104a"><span class="cl-3de5f614">age</span><span class="cl-3de5f61e"></span></p></td>
<td class="cl-3de6763e"><p class="cl-3de61054"><span class="cl-3de5f614">Mean ± SD</span><span class="cl-3de5f61e"></span></p></td>
<td class="cl-3de67620"><p class="cl-3de61054"><span class="cl-3de5f614">52.5 ± 16.7</span></p></td>
<td class="cl-3de6763f"><p class="cl-3de61054"><span class="cl-3de5f614">1.02 (1.00-1.04, p=.028)</span></p></td>
<td class="cl-3de6763f"><p class="cl-3de61054"><span class="cl-3de5f614">1.01 (1.00-1.03, p=.141)</span></p></td>
<td class="cl-3de6762a"><p class="cl-3de61054"><span class="cl-3de5f614">1.01 (0.99-1.02, p=.520)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3de6765c"><p class="cl-3de6104a"><span class="cl-3de5f614">sex</span></p></td>
<td class="cl-3de6764a"><p class="cl-3de61054"><span class="cl-3de5f614">Female</span></p></td>
<td class="cl-3de67648"><p class="cl-3de61054"><span class="cl-3de5f614">126 (61.5%)</span></p></td>
<td class="cl-3de67649"><p class="cl-3de61054"><span class="cl-3de5f614"></span></p></td>
<td class="cl-3de67649"><p class="cl-3de61054"><span class="cl-3de5f614"></span></p></td>
<td class="cl-3de67652"><p class="cl-3de61054"><span class="cl-3de5f614"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3de67634"><p class="cl-3de6104a"><span class="cl-3de5f614"></span></p></td>
<td class="cl-3de6763e"><p class="cl-3de61054"><span class="cl-3de5f614">Male</span></p></td>
<td class="cl-3de67620"><p class="cl-3de61054"><span class="cl-3de5f614">79 (38.5%)</span></p></td>
<td class="cl-3de6763f"><p class="cl-3de61054"><span class="cl-3de5f614">1.94 (1.15-3.26, p=.013)</span></p></td>
<td class="cl-3de6763f"><p class="cl-3de61054"><span class="cl-3de5f614">1.54 (0.91-2.60, p=.106)</span></p></td>
<td class="cl-3de6762a"><p class="cl-3de61054"><span class="cl-3de5f614">1.50 (0.87-2.57, p=.140)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3de67634"><p class="cl-3de6104a"><span class="cl-3de5f614">thickness</span></p></td>
<td class="cl-3de6763e"><p class="cl-3de61054"><span class="cl-3de5f614">Mean ± SD</span></p></td>
<td class="cl-3de67620"><p class="cl-3de61054"><span class="cl-3de5f614">2.9 ± 3.0</span></p></td>
<td class="cl-3de6763f"><p class="cl-3de61054"><span class="cl-3de5f614">1.17 (1.10-1.25, p&lt;.001)</span></p></td>
<td class="cl-3de6763f"><p class="cl-3de61054"><span class="cl-3de5f614">1.12 (1.04-1.20, p=.004)</span></p></td>
<td class="cl-3de6762a"><p class="cl-3de61054"><span class="cl-3de5f614">1.09 (1.01-1.18, p=.019)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3de6765c"><p class="cl-3de6104a"><span class="cl-3de5f614">ulcer</span></p></td>
<td class="cl-3de6764a"><p class="cl-3de61054"><span class="cl-3de5f614">Absent</span></p></td>
<td class="cl-3de67648"><p class="cl-3de61054"><span class="cl-3de5f614">115 (56.1%)</span></p></td>
<td class="cl-3de67649"><p class="cl-3de61054"><span class="cl-3de5f614"></span></p></td>
<td class="cl-3de67649"><p class="cl-3de61054"><span class="cl-3de5f614"></span></p></td>
<td class="cl-3de67652"><p class="cl-3de61054"><span class="cl-3de5f614"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3de67666"><p class="cl-3de6104a"><span class="cl-3de5f614"></span></p></td>
<td class="cl-3de67667"><p class="cl-3de61054"><span class="cl-3de5f614">Present</span></p></td>
<td class="cl-3de6765e"><p class="cl-3de61054"><span class="cl-3de5f614">90 (43.9%)</span></p></td>
<td class="cl-3de67670"><p class="cl-3de61054"><span class="cl-3de5f614">4.36 (2.44-7.77, p&lt;.001)</span></p></td>
<td class="cl-3de67670"><p class="cl-3de61054"><span class="cl-3de5f614">3.20 (1.75-5.88, p&lt;.001)</span></p></td>
<td class="cl-3de6765d"><p class="cl-3de61054"><span class="cl-3de5f614">3.09 (1.71-5.60, p&lt;.001)</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="6" class="cl-3de67671"><p class="cl-3de6105e"><span class="cl-3de5f61f"></span><span class="cl-3de5f600">n=205, events=57, Likelihood ratio test=41.62 on 4 df(p&lt;.001)</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="2efe3060-7823-40cd-b43b-adb13d90980d"></div>
<script>
var dest = document.getElementById("2efe3060-7823-40cd-b43b-adb13d90980d");
var template = document.getElementById("93a530c2-b37d-49fe-a4cc-a9a36a1ce6a8");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>You can estimate cumulative incidence functions from competing risk data.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">library</span>(cmprsk) <span class="co"># for use of cuminc()</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>fit=<span class="kw">cuminc</span>(melanoma<span class="op">$</span>time<span class="op">/</span><span class="dv">365</span>,melanoma<span class="op">$</span>status1)</span>
<span id="cb18-3"><a href="#cb18-3"></a>fit</span>
<span id="cb18-4"><a href="#cb18-4"></a>Estimates and Variances<span class="op">:</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="er">$</span>est</span>
<span id="cb18-6"><a href="#cb18-6"></a>             <span class="dv">5</span>        <span class="dv">10</span>        <span class="dv">15</span></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="dv">1</span> <span class="dv">1</span> <span class="fl">0.22353960</span> <span class="fl">0.3387175</span> <span class="fl">0.3387175</span></span>
<span id="cb18-8"><a href="#cb18-8"></a><span class="dv">1</span> <span class="dv">2</span> <span class="fl">0.04419779</span> <span class="fl">0.1059471</span> <span class="fl">0.1059471</span></span>
<span id="cb18-9"><a href="#cb18-9"></a></span>
<span id="cb18-10"><a href="#cb18-10"></a><span class="op">$</span>var</span>
<span id="cb18-11"><a href="#cb18-11"></a>               <span class="dv">5</span>          <span class="dv">10</span>          <span class="dv">15</span></span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="dv">1</span> <span class="dv">1</span> <span class="fl">0.0008713044</span> <span class="fl">0.001690760</span> <span class="fl">0.001690760</span></span>
<span id="cb18-13"><a href="#cb18-13"></a><span class="dv">1</span> <span class="dv">2</span> <span class="fl">0.0002086252</span> <span class="fl">0.001040155</span> <span class="fl">0.001040155</span></span></code></pre></div>
<p>At 5 years, cumulative death incidence due to melanoma is 22.3% and cumulative death incidence due to other cause is 4.4%.</p>
<p>You can plot this with the following R code.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ggcmprsk.html">ggcmprsk</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">365</span><span class="op">+</span><span class="va">status1</span><span class="op">~</span><span class="fl">1</span>,data<span class="op">=</span><span class="va">melanoma</span>,id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"melanoma"</span>,<span class="st">"others"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="Survival_files/figure-html/unnamed-chunk-20-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="analysis-of-clustered-data">Analysis of clustered data<a class="anchor" aria-label="anchor" href="#analysis-of-clustered-data"></a>
</h2>
<p>In clustered data, cases are not independent. For instance, one might be interested in survival times of individuals that are in the same family or in the same unit, such as a town or school. In this case, genetic or environmental factors mean that survival times within a cluster are more similar to each other than to those from other clusters, so that the independence assumption no longer holds. Marginal approach and frailty model can used to handle these type of data.</p>
<div class="section level3">
<h3 id="frailty-survival-model">1. Frailty survival model<a class="anchor" aria-label="anchor" href="#frailty-survival-model"></a>
</h3>
<p>The retinopathy data is a trial of laser coagulation as a treatment to delay diabetic retinopathy. We shall examine the effect of treatment on time-to-blindness in patients with diabetic retinopathy, and also the interaction of the effect of treatment(trt) with age of onset (juvenile or adult onset), as defined by the type indicator. To estimate individual effect, the <code>frailty(id)</code> shall be used.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">data</span>(retinopathy, <span class="dt">package=</span><span class="st">"survival"</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a>fit=<span class="kw">coxph</span>(<span class="kw">Surv</span>(futime,status)<span class="op">~</span>trt<span class="op">*</span>type<span class="op">+</span><span class="kw">frailty</span>(id),<span class="dt">data=</span>retinopathy)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="kw">summary</span>(fit)</span>
<span id="cb20-4"><a href="#cb20-4"></a>Call<span class="op">:</span></span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="kw">coxph</span>(<span class="dt">formula =</span> <span class="kw">Surv</span>(futime, status) <span class="op">~</span><span class="st"> </span>trt <span class="op">*</span><span class="st"> </span>type <span class="op">+</span><span class="st"> </span><span class="kw">frailty</span>(id), </span>
<span id="cb20-6"><a href="#cb20-6"></a>    <span class="dt">data =</span> retinopathy)</span>
<span id="cb20-7"><a href="#cb20-7"></a></span>
<span id="cb20-8"><a href="#cb20-8"></a>  n=<span class="st"> </span><span class="dv">394</span>, number of events=<span class="st"> </span><span class="dv">155</span> </span>
<span id="cb20-9"><a href="#cb20-9"></a></span>
<span id="cb20-10"><a href="#cb20-10"></a>              coef    <span class="kw">se</span>(coef) se2    Chisq  DF    p     </span>
<span id="cb20-11"><a href="#cb20-11"></a>trt           <span class="fl">-0.5059</span> <span class="fl">0.2255</span>   <span class="fl">0.2207</span>   <span class="fl">5.03</span>  <span class="fl">1.00</span> <span class="fl">0.0250</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>typeadult      <span class="fl">0.3969</span> <span class="fl">0.2591</span>   <span class="fl">0.2053</span>   <span class="fl">2.35</span>  <span class="fl">1.00</span> <span class="fl">0.1300</span></span>
<span id="cb20-13"><a href="#cb20-13"></a><span class="kw">frailty</span>(id)                           <span class="fl">122.55</span> <span class="fl">88.58</span> <span class="fl">0.0098</span></span>
<span id="cb20-14"><a href="#cb20-14"></a>trt<span class="op">:</span>typeadult <span class="fl">-0.9850</span> <span class="fl">0.3618</span>   <span class="fl">0.3553</span>   <span class="fl">7.41</span>  <span class="fl">1.00</span> <span class="fl">0.0065</span></span>
<span id="cb20-15"><a href="#cb20-15"></a></span>
<span id="cb20-16"><a href="#cb20-16"></a>              <span class="kw">exp</span>(coef) <span class="kw">exp</span>(<span class="op">-</span>coef) lower <span class="fl">.95</span> upper <span class="fl">.95</span></span>
<span id="cb20-17"><a href="#cb20-17"></a>trt              <span class="fl">0.6030</span>     <span class="fl">1.6584</span>    <span class="fl">0.3876</span>    <span class="fl">0.9380</span></span>
<span id="cb20-18"><a href="#cb20-18"></a>typeadult        <span class="fl">1.4872</span>     <span class="fl">0.6724</span>    <span class="fl">0.8949</span>    <span class="fl">2.4714</span></span>
<span id="cb20-19"><a href="#cb20-19"></a>trt<span class="op">:</span>typeadult    <span class="fl">0.3734</span>     <span class="fl">2.6779</span>    <span class="fl">0.1838</span>    <span class="fl">0.7588</span></span>
<span id="cb20-20"><a href="#cb20-20"></a></span>
<span id="cb20-21"><a href="#cb20-21"></a>Iterations<span class="op">:</span><span class="st"> </span><span class="dv">6</span> outer, <span class="dv">31</span> Newton<span class="op">-</span>Raphson</span>
<span id="cb20-22"><a href="#cb20-22"></a>     Variance of random effect=<span class="st"> </span><span class="fl">0.92598</span>   I<span class="op">-</span>likelihood =<span class="st"> </span><span class="dv">-847</span> </span>
<span id="cb20-23"><a href="#cb20-23"></a>Degrees of freedom <span class="cf">for</span> terms=<span class="st">  </span><span class="fl">1.0</span>  <span class="fl">0.6</span> <span class="fl">88.6</span>  <span class="fl">1.0</span> </span>
<span id="cb20-24"><a href="#cb20-24"></a>Concordance=<span class="st"> </span><span class="fl">0.86</span>  (<span class="dt">se =</span> <span class="fl">0.014</span> )</span>
<span id="cb20-25"><a href="#cb20-25"></a>Likelihood ratio test=<span class="st"> </span><span class="fl">218.4</span>  on <span class="fl">91.13</span> df,   p=<span class="fl">2e-12</span></span></code></pre></div>
<p>Variance of random effect <span class="math inline">\(\hat{\sigma}^2=0.926\)</span> and the p value of frailty(id) is 0.098. So we can reject <span class="math inline">\(H_0 : \sigma^2=0\)</span>, that is the individual patient has different effect.<br>
The result is summarized as table with the following R code.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoReg.html">autoReg</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/myft.html">myft</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="74855b6b-4b8b-4e47-bce9-313e28344245"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-3e8dd1b8{}.cl-3e848f04{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e848f0e{font-family:'DejaVu Sans';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3e848f18{font-family:'DejaVu Sans';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-3e848f22{font-family:'DejaVu Sans';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-3e84a2c8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e84a2d2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e84a2dc{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e84a2dd{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3e85086c{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e850880{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e85088a{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e85088b{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e850894{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e850895{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e850896{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e85089e{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e85089f{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508a8{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508a9{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508aa{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508b2{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508b3{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508bc{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508bd{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508c6{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508c7{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508d0{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3e8508d1{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-3e8dd1b8">
<thead><tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-3e8508d0"><p class="cl-3e84a2c8"><span class="cl-3e848f04">Dependent: Surv(futime, status)</span></p></td>
<td class="cl-3e8508d1"><p class="cl-3e84a2c8"><span class="cl-3e848f04">all</span></p></td>
<td class="cl-3e8508c7"><p class="cl-3e84a2c8"><span class="cl-3e848f04">HR (multivariable)</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-3e85088b"><p class="cl-3e84a2d2"><span class="cl-3e848f0e">trt</span><span class="cl-3e848f18"></span></p></td>
<td class="cl-3e850880"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">Mean ± SD</span><span class="cl-3e848f18"></span></p></td>
<td class="cl-3e85086c"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">0.5 ± 0.5</span></p></td>
<td class="cl-3e85088a"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">0.60 (0.39-0.94, p=.025)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3e850894"><p class="cl-3e84a2d2"><span class="cl-3e848f0e">type</span></p></td>
<td class="cl-3e850896"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">juvenile</span></p></td>
<td class="cl-3e850895"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">228 (57.9%)</span></p></td>
<td class="cl-3e85089e"><p class="cl-3e84a2dc"><span class="cl-3e848f0e"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3e85088b"><p class="cl-3e84a2d2"><span class="cl-3e848f0e"></span></p></td>
<td class="cl-3e850880"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">adult</span></p></td>
<td class="cl-3e85086c"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">166 (42.1%)</span></p></td>
<td class="cl-3e85088a"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">1.49 (0.89-2.47, p=.126)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3e850894"><p class="cl-3e84a2d2"><span class="cl-3e848f0e">trt:type</span></p></td>
<td class="cl-3e850896"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">juvenile</span></p></td>
<td class="cl-3e850895"><p class="cl-3e84a2dc"><span class="cl-3e848f0e"></span></p></td>
<td class="cl-3e85089e"><p class="cl-3e84a2dc"><span class="cl-3e848f0e"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3e8508aa"><p class="cl-3e84a2d2"><span class="cl-3e848f0e">trt:type</span></p></td>
<td class="cl-3e8508a8"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">adult</span></p></td>
<td class="cl-3e85089f"><p class="cl-3e84a2dc"><span class="cl-3e848f0e"></span></p></td>
<td class="cl-3e8508a9"><p class="cl-3e84a2dc"><span class="cl-3e848f0e">0.37 (0.18-0.76, p=.006)</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="4" class="cl-3e8508b2"><p class="cl-3e84a2dd"><span class="cl-3e848f22"></span><span class="cl-3e848f04">n=394, events=155, Likelihood ratio test=218.43 on 91.1321091975791 df(p&lt;.001)<br>frailty(id) p=.010 Variance of random effect= 0.92598   I-likelihood = -847</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="f561d556-74d6-41da-a870-cdf541621d00"></div>
<script>
var dest = document.getElementById("f561d556-74d6-41da-a870-cdf541621d00");
var template = document.getElementById("74855b6b-4b8b-4e47-bce9-313e28344245");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>With above result, we can estimate the risk of blindness in each group.</p>
<ul>
<li>juvenile, not treated : <span class="math inline">\(HR = exp(0) = 1\)</span>
</li>
<li>juvenile, treated : <span class="math inline">\(HR = 0.6030\)</span>
</li>
<li>adult onset, not treated : <span class="math inline">\(HR = 1.4872\)</span>
</li>
<li>adult onset, treated : <span class="math inline">\(HR = 0.6030\times1.4872\times0.3734=0.3348\)</span>
</li>
</ul>
<p>The type of diabetes is not significant on the development of blindness(<span class="math inline">\(p=0.130\)</span>). Laser treatment significantly reduced the risk of blindness(HR 0.60(95% CI 0.39-0.94), <span class="math inline">\(p=0.03\)</span>). Laser treatment is effective in both type of diabetes, but more effective in adult-onset diabetes.</p>
</div>
<div class="section level3">
<h3 id="marginal-approach">2. Marginal approach<a class="anchor" aria-label="anchor" href="#marginal-approach"></a>
</h3>
<p>In the marginal approach, the proportional hazards assumption is presumed to hold for all subjects, despite the structure in the data due to clusters. With this approach, the parameter estimates are obtained from a Cox proportional hazards model ignoring the cluster structure.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>fit=<span class="kw">coxph</span>(<span class="kw">Surv</span>(futime,status)<span class="op">~</span>trt<span class="op">*</span>type<span class="op">+</span><span class="kw">cluster</span>(id),<span class="dt">data=</span>retinopathy)</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="kw">summary</span>(fit)</span>
<span id="cb22-3"><a href="#cb22-3"></a>Call<span class="op">:</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="kw">coxph</span>(<span class="dt">formula =</span> <span class="kw">Surv</span>(futime, status) <span class="op">~</span><span class="st"> </span>trt <span class="op">+</span><span class="st"> </span>type <span class="op">+</span><span class="st"> </span>trt<span class="op">:</span>type, </span>
<span id="cb22-5"><a href="#cb22-5"></a>    <span class="dt">data =</span> retinopathy, <span class="dt">cluster =</span> id)</span>
<span id="cb22-6"><a href="#cb22-6"></a></span>
<span id="cb22-7"><a href="#cb22-7"></a>  n=<span class="st"> </span><span class="dv">394</span>, number of events=<span class="st"> </span><span class="dv">155</span> </span>
<span id="cb22-8"><a href="#cb22-8"></a></span>
<span id="cb22-9"><a href="#cb22-9"></a>                 coef <span class="kw">exp</span>(coef) <span class="kw">se</span>(coef) robust se      z <span class="kw">Pr</span>(<span class="op">&gt;</span><span class="er">|</span>z<span class="op">|</span>)   </span>
<span id="cb22-10"><a href="#cb22-10"></a>trt           <span class="fl">-0.4250</span>    <span class="fl">0.6538</span>   <span class="fl">0.2177</span>    <span class="fl">0.1850</span> <span class="fl">-2.297</span>  <span class="fl">0.02160</span> <span class="op">*</span><span class="st"> </span></span>
<span id="cb22-11"><a href="#cb22-11"></a>typeadult      <span class="fl">0.3413</span>    <span class="fl">1.4067</span>   <span class="fl">0.1992</span>    <span class="fl">0.1958</span>  <span class="fl">1.743</span>  <span class="fl">0.08129</span> . </span>
<span id="cb22-12"><a href="#cb22-12"></a>trt<span class="op">:</span>typeadult <span class="fl">-0.8459</span>    <span class="fl">0.4292</span>   <span class="fl">0.3509</span>    <span class="fl">0.3036</span> <span class="fl">-2.786</span>  <span class="fl">0.00534</span> <span class="op">**</span></span>
<span id="cb22-13"><a href="#cb22-13"></a><span class="op">---</span></span>
<span id="cb22-14"><a href="#cb22-14"></a>Signif. codes<span class="op">:</span><span class="st">  </span><span class="dv">0</span> <span class="st">'***'</span> <span class="fl">0.001</span> <span class="st">'**'</span> <span class="fl">0.01</span> <span class="st">'*'</span> <span class="fl">0.05</span> <span class="st">'.'</span> <span class="fl">0.1</span> <span class="st">' '</span> <span class="dv">1</span></span>
<span id="cb22-15"><a href="#cb22-15"></a></span>
<span id="cb22-16"><a href="#cb22-16"></a>              <span class="kw">exp</span>(coef) <span class="kw">exp</span>(<span class="op">-</span>coef) lower <span class="fl">.95</span> upper <span class="fl">.95</span></span>
<span id="cb22-17"><a href="#cb22-17"></a>trt              <span class="fl">0.6538</span>     <span class="fl">1.5296</span>    <span class="fl">0.4549</span>    <span class="fl">0.9395</span></span>
<span id="cb22-18"><a href="#cb22-18"></a>typeadult        <span class="fl">1.4067</span>     <span class="fl">0.7109</span>    <span class="fl">0.9585</span>    <span class="fl">2.0646</span></span>
<span id="cb22-19"><a href="#cb22-19"></a>trt<span class="op">:</span>typeadult    <span class="fl">0.4292</span>     <span class="fl">2.3301</span>    <span class="fl">0.2367</span>    <span class="fl">0.7782</span></span>
<span id="cb22-20"><a href="#cb22-20"></a></span>
<span id="cb22-21"><a href="#cb22-21"></a>Concordance=<span class="st"> </span><span class="fl">0.613</span>  (<span class="dt">se =</span> <span class="fl">0.019</span> )</span>
<span id="cb22-22"><a href="#cb22-22"></a>Likelihood ratio test=<span class="st"> </span><span class="fl">28.49</span>  on <span class="dv">3</span> df,   p=<span class="fl">3e-06</span></span>
<span id="cb22-23"><a href="#cb22-23"></a>Wald test            =<span class="st"> </span><span class="fl">34.88</span>  on <span class="dv">3</span> df,   p=<span class="fl">1e-07</span></span>
<span id="cb22-24"><a href="#cb22-24"></a><span class="kw">Score</span> (logrank) test =<span class="st"> </span><span class="fl">28.44</span>  on <span class="dv">3</span> df,   p=<span class="fl">3e-06</span>,   Robust =<span class="st"> </span><span class="fl">30.29</span>  p=<span class="fl">1e-06</span></span>
<span id="cb22-25"><a href="#cb22-25"></a></span>
<span id="cb22-26"><a href="#cb22-26"></a>  (Note<span class="op">:</span><span class="st"> </span>the likelihood ratio and score tests assume independence of</span>
<span id="cb22-27"><a href="#cb22-27"></a>     observations within a cluster, the Wald and robust score tests do not).</span></code></pre></div>
<p>The result can be summarized as table.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/autoReg.html">autoReg</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/myft.html">myft</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<template id="b5494114-7a67-4717-8a58-24892046fd05"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style>
<div class="tabwid">
<style>.cl-3ed93af4{}.cl-3ed056b4{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3ed056c8{font-family:'DejaVu Sans';font-size:10pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-3ed056c9{font-family:'DejaVu Sans';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3pt;}.cl-3ed056d2{font-family:'DejaVu Sans';font-size:6.6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;position: relative;bottom:3.3pt;}.cl-3ed07306{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ed07310{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ed0731a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:2pt;padding-top:2pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ed0731b{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-3ed0dcba{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcc4{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcc5{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcce{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dccf{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcd8{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcd9{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dce2{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dce3{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dce4{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcec{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dced{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcee{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcef{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcf6{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcf7{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dcf8{width:76.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dd00{width:145.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dd0a{width:198.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-3ed0dd0b{width:82.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(0, 0, 0, 1.00);border-top: 2pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style>
<table class="table cl-3ed93af4">
<thead><tr style="overflow-wrap:break-word;">
<td colspan="2" class="cl-3ed0dd0a"><p class="cl-3ed07306"><span class="cl-3ed056b4">Dependent: Surv(futime, status)</span></p></td>
<td class="cl-3ed0dd0b"><p class="cl-3ed07306"><span class="cl-3ed056b4">all</span></p></td>
<td class="cl-3ed0dd00"><p class="cl-3ed07306"><span class="cl-3ed056b4">HR (multivariable)</span></p></td>
</tr></thead>
<tbody>
<tr style="overflow-wrap:break-word;">
<td class="cl-3ed0dcce"><p class="cl-3ed07310"><span class="cl-3ed056c8">trt</span><span class="cl-3ed056c9"></span></p></td>
<td class="cl-3ed0dcc4"><p class="cl-3ed0731a"><span class="cl-3ed056c8">Mean ± SD</span><span class="cl-3ed056c9"></span></p></td>
<td class="cl-3ed0dcba"><p class="cl-3ed0731a"><span class="cl-3ed056c8">0.5 ± 0.5</span></p></td>
<td class="cl-3ed0dcc5"><p class="cl-3ed0731a"><span class="cl-3ed056c8">0.65 (0.45-0.94, p=.022)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3ed0dccf"><p class="cl-3ed07310"><span class="cl-3ed056c8">type</span></p></td>
<td class="cl-3ed0dcd9"><p class="cl-3ed0731a"><span class="cl-3ed056c8">juvenile</span></p></td>
<td class="cl-3ed0dcd8"><p class="cl-3ed0731a"><span class="cl-3ed056c8">228 (57.9%)</span></p></td>
<td class="cl-3ed0dce2"><p class="cl-3ed0731a"><span class="cl-3ed056c8"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3ed0dcce"><p class="cl-3ed07310"><span class="cl-3ed056c8"></span></p></td>
<td class="cl-3ed0dcc4"><p class="cl-3ed0731a"><span class="cl-3ed056c8">adult</span></p></td>
<td class="cl-3ed0dcba"><p class="cl-3ed0731a"><span class="cl-3ed056c8">166 (42.1%)</span></p></td>
<td class="cl-3ed0dcc5"><p class="cl-3ed0731a"><span class="cl-3ed056c8">1.41 (0.96-2.06, p=.081)</span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3ed0dccf"><p class="cl-3ed07310"><span class="cl-3ed056c8">trt:type</span></p></td>
<td class="cl-3ed0dcd9"><p class="cl-3ed0731a"><span class="cl-3ed056c8">juvenile</span></p></td>
<td class="cl-3ed0dcd8"><p class="cl-3ed0731a"><span class="cl-3ed056c8"></span></p></td>
<td class="cl-3ed0dce2"><p class="cl-3ed0731a"><span class="cl-3ed056c8"></span></p></td>
</tr>
<tr style="overflow-wrap:break-word;">
<td class="cl-3ed0dced"><p class="cl-3ed07310"><span class="cl-3ed056c8">trt:type</span></p></td>
<td class="cl-3ed0dce4"><p class="cl-3ed0731a"><span class="cl-3ed056c8">adult</span></p></td>
<td class="cl-3ed0dce3"><p class="cl-3ed0731a"><span class="cl-3ed056c8"></span></p></td>
<td class="cl-3ed0dcec"><p class="cl-3ed0731a"><span class="cl-3ed056c8">0.43 (0.24-0.78, p=.005)</span></p></td>
</tr>
</tbody>
<tfoot><tr style="overflow-wrap:break-word;"><td colspan="4" class="cl-3ed0dcee"><p class="cl-3ed0731b"><span class="cl-3ed056d2"></span><span class="cl-3ed056b4">n=394, events=155, Likelihood ratio test=28.49 on 3 df(p&lt;.001)<br>cluster=id</span></p></td></tr></tfoot>
</table>
</div></template><div class="flextable-shadow-host" id="a51a42e4-294c-46f1-a460-793f15441f72"></div>
<script>
var dest = document.getElementById("a51a42e4-294c-46f1-a460-793f15441f72");
var template = document.getElementById("b5494114-7a67-4717-8a58-24892046fd05");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script><p>The result of marginal approach is similar to frailty approach. But in the frailty approach, subject-specific effect is estimated, whereas in the marginal approach, population average effect is estimated.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Keon-Woong Moon.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
